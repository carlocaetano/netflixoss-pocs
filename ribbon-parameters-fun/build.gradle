apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

version = '1.0'
sourceCompatibility = 1.8

mainClassName = "com.diegopacheco.sandbox.java.netflix.ribbon.parameters.main.RibbonClientMain"
applicationDefaultJvmArgs = [
								 "-Djava.net.preferIPv4Stack=true",
								 "-Djava.net.preferIPv6Addresses=false",
								 "-server",
								 "-Xmx2048m",
								 "-Xms128m",
								 "-DapiCall.ribbon.MaxAutoRetriesNextServer=2",
								 "-DapiCall.ribbon.ConnectTimeout=10000",
								 "-DapiCall.ribbon.ReadTimeout=20000"
							 ]

run {
	if (System.getProperty('DEBUG', 'false') == 'true') {
		jvmArgs '-Xdebug',
			'-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=y'
	}
}

repositories {
	mavenLocal()
	jcenter()
}

buildscript {
	repositories {
			mavenLocal()
			jcenter()
	}
}

eclipse {
	classpath {
		downloadSources = true
	}
}

dependencies {
	compile([
			  'com.netflix.ribbon:ribbon:2.1.0',
			  'com.netflix.ribbon:ribbon-core:2.1.0',
			  'com.netflix.ribbon:ribbon-httpclient:2.1.0',
			  'com.netflix.ribbon:ribbon-transport:2.1.0',
			  'com.netflix.ribbon:ribbon-loadbalancer:2.1.0',
			  'com.netflix.ribbon:ribbon-httpasyncclient:0.3.13',
		    ])
}
